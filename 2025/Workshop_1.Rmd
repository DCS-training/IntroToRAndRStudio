---
title: "Introduction to R and RStudio- Class 1"
author: "Alex Crest and Aybuke Atalay"
date: "`r Sys.Date()`"
output: html_document
---

## R Markdown

This is an R Markdown document. Markdown is a formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. Code chunks are where the code is held and ran in an Rmarkdown document. We will explain code chunks in greater detail shortly. But for now, here is your example of a code chunk in R markdown.

Click the green arrow in corner of the code chunk to run the entire chunk, or alternatively run each line indiviudally with `ctrl` + `enter/command`. 

```{r}
summary(iris) # provides a summary of the dataset
plot(iris) # plots the variables of the dataset

# iris is a readymade dataset, built into R. The data is tidy, and is a great tool for exploring coding.
```

Congratulations! You have ran code from the code chunk in R markdown. Code chunks are great tools, as they keep our code contained in nice little "boxes", making it easier for us to keep track of our work. They can be identified by the 3 backticks (i.e., `), and {r} at the start of the chunk, followed by 3 backticks at the end. This allows us to make a new code chunk whereever we want in our document. We can also create a new code chunk with the little green +C button on the top right of our source panel. 

Let's make a new code chunk ourselves before moving on!


## Why use R markdown?

We love using R markdown for running workshops, as it provides a clear distinction between our notes and our code. This makes our documents easier to follow, and allows us to make additional notes within the document. With more experience, R markdown also allows you to generate publication-ready analysis documents - these can be in Word, pdf or even html formats. It is also possible to use R markdown to generate presentations and web pages.

Using R markdown is an incredible communication tool. As a bonus, it saves us time in reporting our stats and helps reduce risks of accidentally reporting errors. All the while, it's in a reproducible format.

You'll notice that the file has the `Source` and `Visual` options. `Source` allows you to see the document in its markdown format (with hashtags used to generate headers, and stars used to *italicise* and **Bolden** the font).

`Visual` lets you see the document in rendered format, and has options similar to a Word processing applications. The formatting of the document is in `markdown`. Using the `Visual` option allows for an easier introduction. But trust us, you will soon pick up how to work with `markdown` formatting through experience, and there are plenty of [online guides available](https://www.markdownguide.org/basic-syntax/). It is up to you for today if you would rather work with `Source` or `Visual`.If you are new to coding, `Visual` will be easier (and you can always swap back and forth for your own learning at your own pace).

The other useful feature is the `Outline` tab. This uses the header structure to help us navigate our documents quickly.

## On to R Studio

To those of you who haven't visited here before. There are 4 main components to the R studio UI: the source panel, the Environment panel, the Console Panel, and the Output panel.

For a more detailed overview, you can visit the [R Studio User Guide](https://docs.posit.co/ide/user/ide/guide/ui/ui-panes.html), but for today we will give a quick run through of the basics to get you started.

## The Source Panel

We are currently in the source panel, which is showing the R Markdown document we are working with. The source panel is used to work with your documents. It allows us to work with a variety of coding documents, and from here we can edit and run our code. By default, the source window is displayed in the top left corner. Every time we open a new file, it adds an additional tab to the source panel.

## The Environment panel

By default, the environment panel is in the top right of R Studio. It includes the Environment, History, Connections, and Tutorial tabs.

### Environment tab

The **Environment** tab displays our coded objects from the current system. For example, if we run the following code, R will add the `a`, `b` and `Wow` objects to the environment for the rest of this working session (running the code is done either by clicking the green play button, or using `ctrl`/`command` + `Enter` next to the code line).

Objects are anything that we assign data, functions, or lists to. These objects can then be used again when we need them.

The data can be numerical, categorical or character based.

### Hashtags

Those of you with keen eyes will have noticed the use of `#` in the ggplot and the descriptive statistics code. In R, we use hashtags to comment our code. Comments will not affect our functions/code. Instead we use hashtags to explain our code. This can be used to help communicate our code to others, or to remind ourselves of what our code does. Be aware that any code after a hashtag within a line will not run - commented code can be identified by its green colour.

```{r}
# This is a comment
```

#### Other environment uses

The environment tab can also be used to import data, to select other programming languages, and to display how much memory your current R session is using. There is also the broom button to clear objects from the workspace.

### History

The **History** tab displays all the code that has been executed in the current session, and is searchable. In practice, I rarely use this window, as the script and console also allow you to review the code that has been run.

### Connections

The **Connections** tab displays connection to local and/or remote databases or pins. Unless working on a professional project, it will be rare to use this tab.

### Tutorial

The **Tutorial** is part of the `learnr` package that we installed right at the start. It contains a set of interactive tutorials to help you on your R journey. For additional resources, check out [learnr Tutorial Examples](https://rstudio.github.io/learnr/articles/examples.html).

## The Console Panel

The **console panel** default location is bottom left. The console panel has 3 tabs - Console, Terminal, and Background Jobs. For today, we are only interested in the Console tab, as the other tabs are only used for more advanced projects (and the Terminal tab scares me somewhat, as it executes system commands).

The Console tab allows for interactive execution of code, and to test ideas. I often use the console tab to quickly see my code outputs. At the end of the session, the console is cleared. So make sure that any useful code that needs to be reproducible is saved to your code documents in the Source panel.

### Creating and Manipulating Objects
R works by assigning values to variables. We primarily use '<-' to do this. The key thing to remember is that anything on the left of '<-' is your output, and anything on the right is the input.
```{r}
a <- 3
b <- c(0,1,2,3)
c <- seq(from = 0, to = 24, by = 8)
d <- rbind(b, c) 
Wow <- "This course is amazing!!"
`Yes!` <- TRUE # the backticks here allow you to include punctuation and spaces in your object names. It is good practice however to use the '_' instead of a space.
```
We can also use '<-' to create duplicates and backups of data and to save checkpoints during longer operations.
```{r}
b_backup <- b
b <- b_backup
```

#### Tasks

1) Run the code chunk using the little green triangle.

2) Run each line of code individually using `ctrl` + `Enter` on PC, or `Cmd` + `Enter` on Mac.

3) Run the following commands in the Console (use `Enter` on keyboard to run the code in the Console).

4) Figure out what each line of code is doing.

5) Adjust the values! Change it around, add extra numbers/text and learn the operations.

6) Ask us any questions you might have at this stage.

```{r}
Wow
a
d
a * d 
mean(b *c)
```

## Output Panel

The default **Output** location is bottom right. It contains Files, Plots, Packages, Help, and Viewer tabs. For today we will cover Plots, Packages, and Help tabs, as they are most immediately relevant.

## 10min Break Time/Q+A.

## Exploring the Dataset

```{r}
#Loading the data
iris<-iris

# First 5 rows
head(iris,5)

# Last 5 rows
tail(iris,5)

# Choosing a specific row and column
# Row 5, Column 2
iris[5,2]

#Exploring variables
iris$Species
```
Within R, we can use the `$` sign to focus the code on a specific variable within our dataset.

# Visualising the data

```{r}
plot(iris) # plots all varaibles of dataset
boxplot(iris$Sepal.Length) # creates a boxplot of a chosen variable from a dataset
hist(iris$Petal.Width) # create a histogram of a chosen variable from a dataset
```
We can explore a specific column
```{r}
table(iris$Species)
```

We can also summarise the dataset
```{r}
summary(iris)
```
# Building your own dataset

```{r}
#Example 1
city <- c("Pompeii", "Milan", "Naples", "Paris", "London",
          "Istanbul", "Alexandria", "Leptis Magna")

distance_miles <- c(130, 300, 115, 730, 890, 850, 1400, 1100)
 
country <- c("Italy", "Italy", "Italy", "France", "United Kingdom",
             "Turkey", "Egypt", "Libya")
 
founded <- c("700 BCE", "600 BCE", "600 BCE", "52 BCE", "43 CE", "657 BCE", "331 BCE", "7 BCE")
 
# 2. Create the data frame
roman_cities_df <- data.frame(
  City = city,
  Distance_from_Rome_miles = distance_miles,
  Country = country,
  Founded = founded,
  stringsAsFactors = FALSE
)
 
# 3. View the data frame
roman_cities_df


# Example 2. Create vectors
character <- c("Frodo Baggins", "Samwise Gamgee", "Gandalf",
               "Aragorn", "Legolas", "Gimli",
               "Boromir", "Arwen", "Galadriel", "Elrond")
 
height_cm <- c(106, 107, 180, 198, 193, 140, 185, 175, 180, 190)
 
origin <- c("The Shire", "The Shire", "Valinor",
            "Gondor", "Mirkwood", "Lonely Mountain",
            "Gondor", "Rivendell", "LothlÃ³rien", "Rivendell")
 
ranking <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
 
# Create the data frame

lotr_df <- data.frame(
  Character = character,
  Height_cm = height_cm,
  Origin = origin,
  Ranking = ranking,
  stringsAsFactors = FALSE
)
 
# View the data frame
lotr_df
```

#### Tasks

1) Create a dataset of your own with 4 vectors, 5 values each.

2) Explore your dataset using functions such as summary(), head(), tail()

3) Print out Row 3, Column 2



### Packages

The Packages tab allows to view which packages are currently installed, and to search, update and Install new packages to our session.

### Help

A very useful tab. The Help tab has a search tool, that allows us to look up functions, useful vignettes and package documentation. We can also code `?` or `help()` on a function name to get help.


## Q+A and wrapping up
